"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}var curr_popup=null;var curr_modal=null;var in_modal_open=false;function sleep(ms){return new Promise(function(resolve){return setTimeout(resolve,ms)})}function openModal(_x){return _openModal.apply(this,arguments)}function _openModal(){_openModal=_asyncToGenerator(regeneratorRuntime.mark(function _callee(modaltype){var obj,overlay;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:curr_modal=modaltype;obj=document.getElementById("".concat(curr_modal,"-modal-").concat(curr_popup));obj.style.zIndex="1002";obj.style.opacity="1";overlay=document.getElementById("cover");overlay.style.opacity="1";overlay.style.zIndex="1001";in_modal_open=true;case 8:case"end":return _context.stop()}}},_callee)}));return _openModal.apply(this,arguments)}function closeModal(){return _closeModal.apply(this,arguments)}function _closeModal(){_closeModal=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var obj,overlay;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:obj=document.getElementById("".concat(curr_modal,"-modal-").concat(curr_popup));obj.style.opacity="0";overlay=document.getElementById("cover");overlay.style.opacity="0";in_modal_open=false;curr_modal=null;_context2.next=8;return sleep(500);case 8:obj.style.zIndex="-1";overlay.style.zIndex="-1";case 10:case"end":return _context2.stop()}}},_callee2)}));return _closeModal.apply(this,arguments)}function closePopup(_x2){return _closePopup.apply(this,arguments)}function _closePopup(){_closePopup=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(id){var overlay,header;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:overlay=document.getElementById("overlay-"+id);header=document.getElementById("section-"+curr_popup+"-header");header.style.opacity="0";header.style.width="0vw";curr_popup=null;document.getElementById("body").classList.remove("stop-scrolling");overlay.style.width="0vw";_context3.next=9;return sleep(700);case 9:overlay.style.zIndex="-3";case 10:case"end":return _context3.stop()}}},_callee3)}));return _closePopup.apply(this,arguments)}function openPopup(_x3){return _openPopup.apply(this,arguments)}function _openPopup(){_openPopup=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(id){var overlay,header;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:overlay=document.getElementById("overlay-"+id);curr_popup=id;overlay.style.zIndex="1000";overlay.style.width="100vw";overlay.style.opacity="1";header=document.getElementById("section-"+curr_popup+"-header");header.style.opacity="1";header.style.width="100vw";_context4.next=10;return sleep(700);case 10:document.getElementById("body").classList.add("stop-scrolling");case 11:case"end":return _context4.stop()}}},_callee4)}));return _openPopup.apply(this,arguments)}document.onkeydown=function(evt){evt=evt||window.event;var isEscape=false;if("key"in evt){isEscape=evt.key==="Escape"||evt.key==="Esc"}else{isEscape=evt.keyCode===27}if(isEscape&&!in_modal_open){closePopup(curr_popup)}};
